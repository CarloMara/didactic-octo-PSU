Version 4
SHEET 1 2676 1204
WIRE -160 -112 -160 -128
WIRE -160 -112 -288 -112
WIRE -288 -96 -288 -112
WIRE -160 -96 -160 -112
WIRE 48 16 16 16
WIRE 736 16 128 16
WIRE -112 64 -176 64
WIRE 16 64 16 16
WIRE 16 64 -32 64
WIRE -176 96 -176 64
WIRE 368 96 368 64
WIRE 368 96 288 96
WIRE 368 112 368 96
WIRE 288 128 288 96
WIRE 16 144 16 64
WIRE 64 144 16 144
WIRE 192 160 128 160
WIRE 64 176 -128 176
WIRE 192 192 192 160
WIRE -128 224 -128 176
WIRE 368 240 368 192
WIRE 448 240 368 240
WIRE 192 272 192 256
WIRE 288 272 288 208
WIRE 288 272 192 272
WIRE 368 272 368 240
WIRE 448 272 448 240
WIRE 544 272 448 272
WIRE 192 320 192 272
WIRE 288 320 272 320
WIRE 304 320 288 320
WIRE 592 320 592 288
WIRE 608 320 592 320
WIRE 624 320 608 320
WIRE 736 320 736 16
WIRE 736 320 704 320
WIRE 768 320 768 304
WIRE 768 320 736 320
WIRE 848 320 768 320
WIRE 768 336 768 320
WIRE 192 352 192 320
WIRE 288 352 288 320
WIRE 576 352 576 336
WIRE 592 352 576 352
WIRE 608 352 608 320
WIRE 608 352 592 352
WIRE 368 400 368 368
WIRE 592 400 592 352
WIRE 736 448 736 320
WIRE 736 544 736 528
WIRE 736 544 672 544
WIRE 816 544 736 544
WIRE 736 560 736 544
WIRE 352 576 272 576
WIRE 448 576 416 576
WIRE 480 576 448 576
WIRE 560 576 480 576
WIRE 592 576 592 480
WIRE 592 576 560 576
WIRE 272 624 272 576
WIRE 480 656 480 576
WIRE 560 656 560 576
WIRE 736 672 736 640
WIRE 448 720 448 576
WIRE 448 720 416 720
WIRE 192 736 192 416
WIRE 240 736 240 720
WIRE 240 736 192 736
WIRE 272 736 272 704
WIRE 272 736 240 736
WIRE 352 736 272 736
WIRE 464 752 416 752
WIRE 464 800 464 752
WIRE 480 800 480 720
WIRE 480 800 464 800
WIRE 560 800 560 720
WIRE 560 800 480 800
WIRE 576 800 560 800
WIRE 672 800 672 544
WIRE 672 800 656 800
FLAG -176 96 0
FLAG -288 -96 0
FLAG 768 416 0
FLAG -160 -16 v-
FLAG 96 192 v-
FLAG -160 -208 v+
FLAG 96 128 v+
FLAG -128 304 0
FLAG 768 304 vout
FLAG 592 192 v+
FLAG 368 64 v+
FLAG 368 400 0
FLAG 384 768 v-
FLAG 384 704 v+
FLAG 240 720 Iout
FLAG 288 416 0
FLAG 736 752 0
FLAG 816 544 p
FLAG 576 336 n
SYMBOL voltage -160 -224 R0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -160 -112 R0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL res 752 320 R0
SYMATTR InstName RL
SYMATTR Value 1
SYMBOL res 144 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL res -16 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL voltage -128 208 R0
SYMATTR InstName V3
SYMATTR Value 0.5
SYMBOL Opamps\\OP27 96 96 R0
WINDOW 3 16 15 Left 2
SYMATTR InstName U2
SYMBOL nmos 544 192 R0
WINDOW 3 64 -5 Left 2
SYMATTR Value BSZ42DN25NS3
SYMATTR InstName M1
SYMBOL Opamps\\OP27 384 672 M0
SYMATTR InstName U1
SYMBOL res 608 384 M0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 560 784 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL pnp 304 272 R0
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL res 352 96 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 272 112 R0
WINDOW 0 -34 40 Left 2
WINDOW 3 -52 76 Left 2
SYMATTR InstName R1
SYMATTR Value 4.7k
SYMBOL voltage 736 656 R0
WINDOW 0 46 60 Left 2
WINDOW 3 46 88 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 1.5
SYMBOL diode 208 256 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 288 304 R90
WINDOW 0 0 45 VBottom 2
WINDOW 3 27 51 VTop 2
SYMATTR InstName R12
SYMATTR Value 4.7k
SYMBOL diode 304 416 R180
WINDOW 0 -34 44 Left 2
WINDOW 3 -87 -6 Left 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 176 352 R0
WINDOW 0 -69 15 Left 2
WINDOW 3 -109 42 Left 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL res 720 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value .2
SYMBOL cap 416 560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 2200p
SYMBOL res 720 432 R0
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL res 720 544 R0
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL res 256 608 R0
SYMATTR InstName R15
SYMATTR Value 1.5m
SYMBOL diode 544 656 R0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode 496 720 R180
WINDOW 0 -25 64 Left 2
WINDOW 3 24 -112 Left 2
SYMATTR InstName D5
SYMATTR Value 1N4148
TEXT -288 424 Left 2 !.tran 0 100u 0 0.01u
TEXT 512 -328 Left 2 ;Configurazione avanzata usando un bjt(npn) per comandare un mosfet di tipo n
TEXT 520 -304 Left 2 ;Il circuito può essere visto come un amplificatore non invertente (G=rf/ri+1)
TEXT 504 -240 Left 2 ;il valore di vout sarò quindi il doppio della tensone che applichiamo attraverso il generaore V3, cche sarà poi sostituito da un DAC
TEXT 512 -192 Left 2 ;al variare della corrente assorbita dal carico la tensione non cambia, quindi il circuito stà regolando in maniera opportuna
