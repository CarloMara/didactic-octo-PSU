Version 4
SHEET 1 880 680
WIRE -608 -624 -1280 -624
WIRE -1216 -272 -1280 -272
WIRE -1280 -208 -1280 -272
WIRE -608 -192 -608 -624
WIRE 368 -192 -608 -192
WIRE 592 -192 464 -192
WIRE 720 -192 592 -192
WIRE -1280 -112 -1280 -128
WIRE -1184 -112 -1280 -112
WIRE -1280 -80 -1280 -112
WIRE 720 -80 720 -192
WIRE 224 -64 224 -80
WIRE 288 -64 224 -64
WIRE 448 -64 448 -144
WIRE 448 -64 368 -64
WIRE -80 -32 -112 -32
WIRE 32 -32 -16 -32
WIRE 160 -32 112 -32
WIRE 224 -16 224 -64
WIRE 448 48 448 -64
WIRE 448 48 368 48
WIRE -1280 64 -1280 0
WIRE -1216 64 -1280 64
WIRE -192 80 -224 80
WIRE -112 80 -112 -32
WIRE 0 80 -112 80
WIRE 160 96 160 -32
WIRE 160 96 64 96
WIRE 224 96 224 64
WIRE 224 96 160 96
WIRE 304 96 224 96
WIRE 0 112 -64 112
WIRE -112 144 -112 80
WIRE -288 256 -288 224
WIRE -112 256 -112 208
WIRE -112 256 -288 256
WIRE -64 256 -64 112
WIRE -64 256 -112 256
WIRE -288 304 -288 256
FLAG 32 128 v-
FLAG 32 64 v+
FLAG -288 384 0
FLAG -288 144 5v
FLAG 368 144 v-
FLAG 592 -192 vgnd
FLAG -224 80 vgnd
FLAG 224 -80 v+
FLAG -1216 -272 v+
FLAG -1216 64 v-
FLAG -1280 192 5v
FLAG -1184 -112 vgnd
FLAG -1280 272 vgnd
FLAG -1280 -544 0
FLAG 720 0 0
SYMBOL Opamps\\OP27 32 32 R0
SYMATTR InstName U1
SYMBOL res 128 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1.5m
SYMBOL cap -16 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 2200pf
SYMBOL res -96 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 8k
SYMBOL diode -128 144 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res -272 240 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res -272 400 R180
WINDOW 0 36 76 Left 2
WINDOW 3 58 62 VLeft 2
SYMATTR InstName R4
SYMATTR Value 50k
SYMBOL pnp 304 144 M180
WINDOW 0 4 68 Right 2
WINDOW 3 9 28 Right 2
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL nmos 368 -144 R270
SYMATTR InstName M1
SYMATTR Value BSZ42DN25NS3
SYMBOL res 208 -32 R0
SYMATTR InstName R5
SYMATTR Value 5k
SYMBOL res 384 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1.2k
SYMBOL voltage -1280 -224 R0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -1280 -96 R0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL voltage -1280 176 R0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL voltage -1280 -640 R0
SYMATTR InstName V4
SYMATTR Value 40
SYMBOL res 704 -96 R0
SYMATTR InstName R7
SYMATTR Value 100k
TEXT -1314 408 Left 2 !.tran 5m
